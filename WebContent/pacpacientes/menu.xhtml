<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">


<h:head>
	<script type="text/javascript">
    PrimeFaces.locales['es'] = {
    		 closeText: "Cerrar",
    		    prevText: "Anterior",
    		    nextText: "Siguiente",
    		    monthNames: ["Enero","Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
    		    monthNamesShort: ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"],
    		    dayNames: ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"],
    		    dayNamesShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
    		    dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa"],
    		    weekHeader: "Semana",
    		    firstDay: 0,
    		    isRTL: false,
    		    showMonthAfterYear: false,
    		    yearSuffix: "",
    		    timeOnlyTitle: "Solo hora",
    		    timeText: "Tiempo",
    		    hourText: "Hora",
    		    minuteText: "Minuto",
    		    secondText: "Segundo",
    		    currentText: "Fecha actual",
    		    ampm: false,
    		    month: "Mes",
    		    week: "Semana",
    		    day: "Día",
    		    allDayText : "Todo el día"
    		};
</script>
	<style type="text/css">
.value {
	width: 1000px;
}
</style>
</h:head>
<body>
	<div id="menu">
		<h:form>
			<p:menubar>
				<p:menuitem>
					<p:graphicImage value="resources/images/logo1.png"></p:graphicImage>
				</p:menuitem>
				<p:menuitem value="Reservas" action="#{reserBeanCita.actionGetCitasNoPagadosPac(authBeanLogin.login.id_usuario)}"
					 icon="pi pi-calendar-plus" />

				<f:facet name="options">
					<p:menuButton value="#{authBeanLogin.login.nombres}"
						title="Opciones del Paciente" icon="fa fa-user">
						<p:menuitem style="width:165%;background: #f4f6f6 "
							value="Editar Perfil" icon="fa fa-edit"></p:menuitem>
					</p:menuButton>

					<p:commandButton title="Cerrar sesión" icon="fa fa-power-off"
						action="#{authBeanLogin.actionCerrarSesion()}" />
				</f:facet>
			</p:menubar>
		</h:form>
	</div>
	<h:form>
		<p:growl id="messages" showDetail="true" />
		<div align="center">
			<p:panel header="Bienvenido Paciente">
			
				<h:panelGrid columnClasses="value">
					<div align="center">
						<h1>Calendario</h1>
					</div>

					<p:schedule id="schedule"
						value="#{pacScheduleViewPaciente.eventModel}"
						widgetVar="myschedule" timeZone="GMT+5" locale="es">

						<p:ajax event="dateSelect"
							listener="#{pacScheduleViewPaciente.onDateSelect}"
							update="eventDetails" oncomplete="PF('eventDialog').show();" />
						<p:ajax event="eventSelect"
							listener="#{pacScheduleViewPaciente.onEventSelect}"
							update="eventDetails" oncomplete="PF('eventDialog').show();" />
						<p:ajax event="eventMove"
							listener="#{pacScheduleViewPaciente.onEventMove}"
							update="messages" />
						<p:ajax event="eventResize"
							listener="#{pacScheduleViewPaciente.onEventResize}"
							update="messages" />

					</p:schedule>


				</h:panelGrid>
			</p:panel>
		</div>
		<p:dialog widgetVar="eventDialog" header="Detalles cita"
			showEffect="clip" hideEffect="clip">
			<h:panelGrid id="eventDetails" columns="2">
				<p:outputLabel for="title" value="Evento:" />
				<p:inputText id="title"
					value="#{pacScheduleViewPaciente.event.title}" required="true" disabled="true" />

				<p:outputLabel for="from" value="Desde:" />
				<p:calendar id="from" value="#{pacScheduleViewPaciente.event.startDate}" timeZone="GMT+5" pattern="dd/MM/yyyy HH:mm" disabled="true"/> 

				<p:outputLabel for="to" value="Hasta:" />				
				<p:calendar id="to" value="#{pacScheduleViewPaciente.event.endDate}" timeZone="GMT+5" pattern="dd/MM/yyyy HH:mm" disabled="true"/>
				
            
 
            <p:commandButton  value="Aceptar" onclick="PF('myschedule').update();PF('eventDialog').hide();" />
      
			</h:panelGrid>
		</p:dialog>

	</h:form>

</body>
</html>
